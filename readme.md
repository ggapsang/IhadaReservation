# 예약 관리 시스템 (Apps Script WebApp)

Google Apps Script 기반의 실시간 예약 관리 시스템

## 시스템 구조

```
Google Site (iframe) → Apps Script WebApp → Google Spreadsheet → Kakao API
                                          ↓
                                   Google Calendar
```

## 주요 기능

### 1. 예약 입력 폼

**텍스트 입력**
- 업체 및 브랜드명
- 인스타그램 ID
- 이름
- 연락처
- 전체 인원
- 방문 차량 대수

**날짜/시간 선택**
- 예약 날짜 (캘린더 UI)
- 시작 시간 (30분 단위)
- 종료 시간 (30분 단위)

**선택 옵션**
- Room 타입 (드롭다운 4개)
- 세금계산서 발행 여부
- 유입 경로 (네이버, 인스타그램, 지인소개, 공간플랫폼, 기타)
- 촬영 내용 (의류, 광고, 드라마, 잡지, 스냅, 기타)

**파일 업로드**
- 사업자등록증 (10MB 이내)

**약관 동의**
- 이용 약관 체크박스

### 2. 실시간 가격 계산 로직

**기본 요금 정책**
```
룸당 기준 인원: 3명
기본 요금: 44,000원/시간
최소 이용 시간: 2시간
추가 인원 요금: 5,000원/인
```

**계산 규칙**
- 3명까지: 기본요금 × 이용시간
- 3명 초과: (기본요금 + 추가인원 × 5,000원) × 이용시간
- 10명 이상: A+B 룸 동시 대관 자동 선택
- VAT 10% 자동 반영

**실시간 반영**
- 인원 입력 시 → Room 타입 자동 선택
- 시간 선택 시 → 총 비용 실시간 계산 및 표시

### 3. 예약 중복 방지

- 제출 전 예약 가능 여부 즉시 확인
- 선택한 날짜/시간/룸의 예약 현황 실시간 체크

### 4. 자동 알림 시스템

**카카오톡 알림톡 발송**
- 예약 확정 메시지 (즉시 발송)
- 입실 30분 전 안내 메시지 (예약 발송)
- 퇴실 30분 전 안내 메시지 (예약 발송)

### 5. 관리자 기능

**Google Spreadsheet 기반**
- 예약 신청 내역 자동 저장
- 입금 확인 체크박스
- 입금 확인 시 Google Calendar 자동 업데이트

**정책 설정 변경 가능**
- 룸당 기준 인원
- 시간당 단가
- 추가 인원 단가
- A+B 동시 대관 기준 인원

## 기술 스택

- Google Apps Script
- Google Spreadsheet
- Google Calendar
- Kakao Talk API
- HTML/CSS/JavaScript (WebApp UI)

## 배포 방식

Google Site에 iframe으로 임베드
Apps Scripts 자체 index.html 생성 기능 사용
