# ì˜ˆì•½ ê´€ë¦¬ ì‹œìŠ¤í…œ ê°œë°œ ëª…ì„¸ì„œ

## 1. ì‹œìŠ¤í…œ ê°œìš”

Google Apps Scriptë¥¼ í™œìš©í•œ ì‹¤ì‹œê°„ ì˜ˆì•½ ê´€ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ, WebApp í˜•íƒœë¡œ êµ¬í˜„ë˜ì–´ Google Siteì— ì„ë² ë“œë©ë‹ˆë‹¤.

### 1.1 ê¸°ìˆ  ìŠ¤íƒ
- **Backend**: Google Apps Script
- **Database**: Google Spreadsheet
- **UI**: HTML/CSS/JavaScript
- **External APIs**: Kakao Talk API, Google Calendar API

---

## 2. Google Spreadsheet êµ¬ì¡°

### 2.1 ì‹œíŠ¸ êµ¬ì„±

#### Sheet 1: `ì˜ˆì•½ë‚´ì—­`
ì˜ˆì•½ ì‹ ì²­ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë©”ì¸ ì‹œíŠ¸

| ì»¬ëŸ¼ëª… | ë°ì´í„° íƒ€ì… | ì„¤ëª… | ë¹„ê³  |
|--------|------------|------|------|
| A: ì˜ˆì•½ë²ˆí˜¸ | Text | ìë™ìƒì„± ID (ì˜ˆ: RES20250101-001) | Primary Key |
| B: ì‹ ì²­ì¼ì‹œ | DateTime | ì˜ˆì•½ ì‹ ì²­ ì‹œê° | ìë™ìƒì„± |
| C: ì˜ˆì•½ë‚ ì§œ | Date | ë°©ë¬¸ ì˜ˆì•½ ë‚ ì§œ | í•„ìˆ˜ |
| D: ì‹œì‘ì‹œê°„ | Time | ì…ì‹¤ ì‹œê°„ (30ë¶„ ë‹¨ìœ„) | í•„ìˆ˜ |
| E: ì¢…ë£Œì‹œê°„ | Time | í‡´ì‹¤ ì‹œê°„ (30ë¶„ ë‹¨ìœ„) | í•„ìˆ˜ |
| F: ì´ìš©ì‹œê°„ | Number | ì´ ì´ìš© ì‹œê°„(ì‹œê°„) | ìë™ê³„ì‚° |
| G: Roomíƒ€ì… | Text | A, B, C, D ë˜ëŠ” A+B | í•„ìˆ˜ |
| H: ì—…ì²´ëª… | Text | ì—…ì²´ ë° ë¸Œëœë“œëª… | í•„ìˆ˜ |
| I: ì¸ìŠ¤íƒ€ê·¸ë¨ID | Text | @ í¬í•¨ | ì„ íƒ |
| J: ì´ë¦„ | Text | ì˜ˆì•½ì ì´ë¦„ | í•„ìˆ˜ |
| K: ì—°ë½ì²˜ | Text | íœ´ëŒ€í° ë²ˆí˜¸ (010-0000-0000) | í•„ìˆ˜ |
| L: ì „ì²´ì¸ì› | Number | ë°©ë¬¸ ì¸ì› ìˆ˜ | í•„ìˆ˜ |
| M: ì°¨ëŸ‰ëŒ€ìˆ˜ | Number | ë°©ë¬¸ ì°¨ëŸ‰ ëŒ€ìˆ˜ | í•„ìˆ˜ |
| N: ì„¸ê¸ˆê³„ì‚°ì„œ | Boolean | Y/N | í•„ìˆ˜ |
| O: ìœ ì…ê²½ë¡œ | Text | ë„¤ì´ë²„/ì¸ìŠ¤íƒ€ê·¸ë¨/ì§€ì¸ì†Œê°œ/ê³µê°„í”Œë«í¼/ê¸°íƒ€ | í•„ìˆ˜ |
| P: ì´¬ì˜ë‚´ìš© | Text | ì˜ë¥˜/ê´‘ê³ /ë“œë¼ë§ˆ/ì¡ì§€/ìŠ¤ëƒ…/ê¸°íƒ€ | í•„ìˆ˜ |
| Q: ê¸°ë³¸ìš”ê¸ˆ | Number | ë£¸ ê¸°ë³¸ ìš”ê¸ˆ | ìë™ê³„ì‚° |
| R: ì¶”ê°€ì¸ì›ìš”ê¸ˆ | Number | ì´ˆê³¼ ì¸ì› ìš”ê¸ˆ | ìë™ê³„ì‚° |
| S: ì†Œê³„ | Number | ê¸°ë³¸+ì¶”ê°€ ìš”ê¸ˆ | ìë™ê³„ì‚° |
| T: VAT | Number | ë¶€ê°€ì„¸ (10%) | ìë™ê³„ì‚° |
| U: ì´ê¸ˆì•¡ | Number | ìµœì¢… ê²°ì œ ê¸ˆì•¡ | ìë™ê³„ì‚° |
| V: ì…ê¸ˆí™•ì¸ | Boolean | Y/N | ê´€ë¦¬ì ì…ë ¥ |
| W: ì…ê¸ˆí™•ì¸ì¼ì‹œ | DateTime | ì…ê¸ˆ í™•ì¸ ì‹œê° | ìë™ìƒì„± |
| X: ì‚¬ì—…ìë“±ë¡ì¦ | URL | Drive íŒŒì¼ ë§í¬ | ì„ íƒ |
| Y: Calendarì´ë²¤íŠ¸ID | Text | Google Calendar Event ID | ìë™ìƒì„± |
| Z: ì•Œë¦¼í†¡ë°œì†¡ìƒíƒœ | Text | í™•ì •ì™„ë£Œ/ì…ì‹¤ëŒ€ê¸°/í‡´ì‹¤ëŒ€ê¸° | ìë™ì—…ë°ì´íŠ¸ |
| AA: ë¹„ê³  | Text | ê´€ë¦¬ì ë©”ëª¨ | ì„ íƒ |

#### Sheet 2: `ì„¤ì •`
ì‹œìŠ¤í…œ ìš´ì˜ ì •ì±… ë° ì„¤ì •ê°’ ê´€ë¦¬

| í•­ëª©ëª… | ê°’ | ë‹¨ìœ„ | ì„¤ëª… |
|--------|-----|------|------|
| ê¸°ì¤€ì¸ì› | 3 | ëª… | ë£¸ë‹¹ ê¸°ë³¸ ì¸ì› |
| ì‹œê°„ë‹¹ê¸°ë³¸ìš”ê¸ˆ | 44000 | ì› | ì‹œê°„ë‹¹ ê¸°ë³¸ ìš”ê¸ˆ |
| ìµœì†Œì´ìš©ì‹œê°„ | 2 | ì‹œê°„ | ìµœì†Œ ì˜ˆì•½ ì‹œê°„ |
| ì¶”ê°€ì¸ì›ë‹¨ê°€ | 5000 | ì›/ì¸ | 1ì¸ë‹¹ ì¶”ê°€ ìš”ê¸ˆ |
| ABë™ì‹œëŒ€ê´€ê¸°ì¤€ | 10 | ëª… | A+B ìë™ ì„ íƒ ê¸°ì¤€ |
| VATìš”ìœ¨ | 10 | % | ë¶€ê°€ì„¸ìœ¨ |
| ìš´ì˜ì‹œì‘ì‹œê°„ | 09:00 | ì‹œ:ë¶„ | ì¼ì¼ ìš´ì˜ ì‹œì‘ |
| ìš´ì˜ì¢…ë£Œì‹œê°„ | 22:00 | ì‹œ:ë¶„ | ì¼ì¼ ìš´ì˜ ì¢…ë£Œ |
| ì˜ˆì•½ì‹œê°„ë‹¨ìœ„ | 30 | ë¶„ | ì˜ˆì•½ ê°€ëŠ¥ ì‹œê°„ ë‹¨ìœ„ |

#### Sheet 3: `Roomì •ë³´`
ê° ë£¸ë³„ ìƒì„¸ ì •ë³´

| Roomíƒ€ì… | ìˆ˜ìš©ì¸ì› | ì‹œê°„ë‹¹ìš”ê¸ˆ | ì„¤ëª… | í™œì„±í™” |
|----------|----------|-----------|------|--------|
| A | 8 | 44000 | ë©”ì¸ ìŠ¤íŠœë””ì˜¤ A | Y |
| B | 8 | 44000 | ë©”ì¸ ìŠ¤íŠœë””ì˜¤ B | Y |
| C | 5 | 44000 | ì†Œí˜• ìŠ¤íŠœë””ì˜¤ C | Y |
| D | 5 | 44000 | ì†Œí˜• ìŠ¤íŠœë””ì˜¤ D | Y |
| A+B | 16 | 88000 | A+B ë™ì‹œ ëŒ€ê´€ | Y |

#### Sheet 4: `ì•Œë¦¼í†¡í…œí”Œë¦¿`
ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ ë©”ì‹œì§€ í…œí”Œë¦¿

| í…œí”Œë¦¿ëª… | í…œí”Œë¦¿ì½”ë“œ | ë°œì†¡ì‹œì  | ë©”ì‹œì§€ë‚´ìš© |
|----------|-----------|----------|-----------|
| ì˜ˆì•½í™•ì • | CONFIRM_001 | ì…ê¸ˆí™•ì¸ ì¦‰ì‹œ | (í…œí”Œë¦¿ ë‚´ìš©) |
| ì…ì‹¤ì•ˆë‚´ | CHECKIN_001 | ì˜ˆì•½ 30ë¶„ ì „ | (í…œí”Œë¦¿ ë‚´ìš©) |
| í‡´ì‹¤ì•ˆë‚´ | CHECKOUT_001 | í‡´ì‹¤ 30ë¶„ ì „ | (í…œí”Œë¦¿ ë‚´ìš©) |

#### Sheet 5: `ì˜ˆì•½í˜„í™©ë¡œê·¸`
ì‹¤ì‹œê°„ ì˜ˆì•½ ì¡°íšŒ ë¡œê·¸ (ë””ë²„ê¹…/í†µê³„ìš©)

| ì¡°íšŒì¼ì‹œ | Roomíƒ€ì… | ì˜ˆì•½ë‚ ì§œ | ì‹œì‘ì‹œê°„ | ì¢…ë£Œì‹œê°„ | ê°€ëŠ¥ì—¬ë¶€ |
|---------|---------|---------|---------|---------|---------|

---

## 3. ì£¼ìš” í•¨ìˆ˜ ëª…ì„¸

### 3.1 WebApp ì§„ì…ì  í•¨ìˆ˜

#### `doGet(e)`
```javascript
/**
 * WebApp ì§„ì…ì  - HTML í˜ì´ì§€ ë Œë”ë§
 * @param {Object} e - ìš”ì²­ íŒŒë¼ë¯¸í„° ê°ì²´
 * @return {HtmlOutput} HTML í˜ì´ì§€
 */
```
**ê¸°ëŠ¥**:
- index.html íŒŒì¼ì„ ë¡œë“œí•˜ì—¬ WebApp UI ë°˜í™˜
- CORS í—¤ë” ì„¤ì •

#### `doPost(e)`
```javascript
/**
 * POST ìš”ì²­ ì²˜ë¦¬
 * @param {Object} e - ìš”ì²­ íŒŒë¼ë¯¸í„° ê°ì²´
 * @return {ContentService} JSON ì‘ë‹µ
 */
```
**ê¸°ëŠ¥**:
- ì˜ˆì•½ ì œì¶œ ìš”ì²­ ì²˜ë¦¬
- íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬

---

### 3.2 ì„¤ì • ê´€ë¦¬ í•¨ìˆ˜

#### `getSettings()`
```javascript
/**
 * ì„¤ì • ì‹œíŠ¸ì—ì„œ ì •ì±… ê°’ ì½ê¸°
 * @return {Object} ì„¤ì • ê°ì²´
 * {
 *   basePersons: 3,
 *   baseRate: 44000,
 *   minHours: 2,
 *   extraPersonRate: 5000,
 *   abThreshold: 10,
 *   vatRate: 10
 * }
 */
```

#### `getRoomInfo()`
```javascript
/**
 * Room ì •ë³´ ì‹œíŠ¸ì—ì„œ í™œì„±í™”ëœ ë£¸ ì •ë³´ ì¡°íšŒ
 * @return {Array} Room ê°ì²´ ë°°ì—´
 * [{
 *   type: 'A',
 *   capacity: 8,
 *   rate: 44000,
 *   description: '...',
 *   active: true
 * }]
 */
```

#### `updateSettings(key, value)`
```javascript
/**
 * ì„¤ì • ê°’ ì—…ë°ì´íŠ¸
 * @param {string} key - ì„¤ì • í•­ëª©ëª…
 * @param {any} value - ìƒˆë¡œìš´ ê°’
 * @return {boolean} ì„±ê³µ ì—¬ë¶€
 */
```

---

### 3.3 ê°€ê²© ê³„ì‚° í•¨ìˆ˜

#### `calculatePrice(persons, hours, roomType)`
```javascript
/**
 * ì˜ˆì•½ ê¸ˆì•¡ ì‹¤ì‹œê°„ ê³„ì‚°
 * @param {number} persons - ì „ì²´ ì¸ì›
 * @param {number} hours - ì´ìš© ì‹œê°„
 * @param {string} roomType - Room íƒ€ì…
 * @return {Object} ê°€ê²© ìƒì„¸ ê°ì²´
 * {
 *   basePrice: 88000,        // ê¸°ë³¸ ìš”ê¸ˆ
 *   extraPersonFee: 10000,   // ì¶”ê°€ ì¸ì› ìš”ê¸ˆ
 *   subtotal: 98000,         // ì†Œê³„
 *   vat: 9800,               // ë¶€ê°€ì„¸
 *   total: 107800            // ì´ ê¸ˆì•¡
 * }
 */
```
**ë¡œì§**:
1. ì„¤ì •ê°’ ë¡œë“œ (`getSettings()`)
2. ê¸°ë³¸ìš”ê¸ˆ = ì‹œê°„ë‹¹ìš”ê¸ˆ Ã— ì´ìš©ì‹œê°„
3. ì´ˆê³¼ì¸ì› = Math.max(0, ì¸ì› - ê¸°ì¤€ì¸ì›)
4. ì¶”ê°€ìš”ê¸ˆ = ì´ˆê³¼ì¸ì› Ã— ì¶”ê°€ì¸ì›ë‹¨ê°€ Ã— ì´ìš©ì‹œê°„
5. ì†Œê³„ = ê¸°ë³¸ìš”ê¸ˆ + ì¶”ê°€ìš”ê¸ˆ
6. VAT = ì†Œê³„ Ã— VATìš”ìœ¨
7. ì´ê¸ˆì•¡ = ì†Œê³„ + VAT

#### `suggestRoomType(persons)`
```javascript
/**
 * ì¸ì›ì— ë”°ë¥¸ Room íƒ€ì… ìë™ ì¶”ì²œ
 * @param {number} persons - ì „ì²´ ì¸ì›
 * @return {string} ì¶”ì²œ Room íƒ€ì…
 */
```
**ë¡œì§**:
- 10ëª… ì´ìƒ â†’ "A+B"
- 10ëª… ë¯¸ë§Œ â†’ "A" (ê¸°ë³¸ê°’, ì‚¬ìš©ìê°€ ì„ íƒ ê°€ëŠ¥)

---

### 3.4 ì˜ˆì•½ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ í•¨ìˆ˜

#### `checkAvailability(date, startTime, endTime, roomType)`
```javascript
/**
 * íŠ¹ì • ë‚ ì§œ/ì‹œê°„/ë£¸ì˜ ì˜ˆì•½ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
 * @param {string} date - ì˜ˆì•½ ë‚ ì§œ (YYYY-MM-DD)
 * @param {string} startTime - ì‹œì‘ ì‹œê°„ (HH:MM)
 * @param {string} endTime - ì¢…ë£Œ ì‹œê°„ (HH:MM)
 * @param {string} roomType - Room íƒ€ì…
 * @return {Object}
 * {
 *   available: true/false,
 *   conflictReservations: [] // ì¤‘ë³µë˜ëŠ” ì˜ˆì•½ ëª©ë¡
 * }
 */
```
**ë¡œì§**:
1. `ì˜ˆì•½ë‚´ì—­` ì‹œíŠ¸ì—ì„œ í•´ë‹¹ ë‚ ì§œ + Room ì¡°íšŒ
2. ì‹œê°„ ê²¹ì¹¨ ê²€ì‚¬ (ì…ê¸ˆí™•ì¸=Y ê±´ë§Œ)
3. A+B ì„ íƒ ì‹œ Aì™€ B ë‘˜ ë‹¤ í™•ì¸
4. ì¤‘ë³µ ë°œê²¬ ì‹œ `available: false` ë°˜í™˜

#### `getReservationsByDate(date)`
```javascript
/**
 * íŠ¹ì • ë‚ ì§œì˜ ëª¨ë“  ì˜ˆì•½ ì¡°íšŒ
 * @param {string} date - ì¡°íšŒ ë‚ ì§œ (YYYY-MM-DD)
 * @return {Array} ì˜ˆì•½ ê°ì²´ ë°°ì—´
 */
```

---

### 3.5 ì˜ˆì•½ ë“±ë¡ í•¨ìˆ˜

#### `submitReservation(formData)`
```javascript
/**
 * ìƒˆ ì˜ˆì•½ ë“±ë¡ (ë©”ì¸ í•¨ìˆ˜)
 * @param {Object} formData - í¼ ë°ì´í„° ê°ì²´
 * @return {Object}
 * {
 *   success: true/false,
 *   reservationNumber: 'RES20250101-001',
 *   message: 'ì˜ˆì•½ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.',
 *   error: null
 * }
 */
```
**í”„ë¡œì„¸ìŠ¤**:
1. ë°ì´í„° ìœ íš¨ì„± ê²€ì¦ (`validateFormData()`)
2. ì˜ˆì•½ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ (`checkAvailability()`)
3. ê°€ê²© ê³„ì‚° (`calculatePrice()`)
4. ì˜ˆì•½ë²ˆí˜¸ ìƒì„± (`generateReservationNumber()`)
5. ì‚¬ì—…ìë“±ë¡ì¦ ì—…ë¡œë“œ ì²˜ë¦¬ (`uploadFile()`)
6. `ì˜ˆì•½ë‚´ì—­` ì‹œíŠ¸ì— ë°ì´í„° ì¶”ê°€
7. ì—ëŸ¬ ë°œìƒ ì‹œ ë¡¤ë°±

#### `generateReservationNumber()`
```javascript
/**
 * ê³ ìœ  ì˜ˆì•½ë²ˆí˜¸ ìƒì„±
 * @return {string} ì˜ˆì•½ë²ˆí˜¸ (ì˜ˆ: RES20250101-001)
 */
```
**í˜•ì‹**: `RES + YYYYMMDD + - + ì¼ë ¨ë²ˆí˜¸(3ìë¦¬)`

#### `validateFormData(data)`
```javascript
/**
 * í¼ ë°ì´í„° ìœ íš¨ì„± ê²€ì¦
 * @param {Object} data - í¼ ë°ì´í„°
 * @return {Object} { valid: true/false, errors: [] }
 */
```
**ê²€ì¦ í•­ëª©**:
- í•„ìˆ˜ í•„ë“œ ì¡´ì¬ ì—¬ë¶€
- ì—°ë½ì²˜ í˜•ì‹ (010-XXXX-XXXX)
- ë‚ ì§œ í˜•ì‹ ë° ê³¼ê±° ë‚ ì§œ ì²´í¬
- ì‹œê°„ í˜•ì‹ ë° ë…¼ë¦¬ì  ìˆœì„œ
- ì¸ì›/ì°¨ëŸ‰ ì–‘ìˆ˜ ì²´í¬
- ì•½ê´€ ë™ì˜ ì—¬ë¶€

---

### 3.6 íŒŒì¼ ì²˜ë¦¬ í•¨ìˆ˜

#### `uploadFile(fileBlob, reservationNumber)`
```javascript
/**
 * ì‚¬ì—…ìë“±ë¡ì¦ íŒŒì¼ì„ Google Driveì— ì—…ë¡œë“œ
 * @param {Blob} fileBlob - íŒŒì¼ Blob ê°ì²´
 * @param {string} reservationNumber - ì˜ˆì•½ë²ˆí˜¸
 * @return {string} ì—…ë¡œë“œëœ íŒŒì¼ì˜ Drive URL
 */
```
**ê¸°ëŠ¥**:
- Drive í´ë” ìë™ ìƒì„± (í´ë”ëª…: "ì˜ˆì•½_ì‚¬ì—…ìë“±ë¡ì¦")
- íŒŒì¼ëª…: `{ì˜ˆì•½ë²ˆí˜¸}_{ì›ë³¸íŒŒì¼ëª…}`
- 10MB í¬ê¸° ì œí•œ ì²´í¬
- ì—…ë¡œë“œ í›„ ê³µìœ  ê¶Œí•œ ì„¤ì • (ì œí•œëœ ì ‘ê·¼)

---

### 3.7 ì…ê¸ˆ í™•ì¸ ë° Calendar ì—°ë™

#### `confirmPayment(reservationNumber)`
```javascript
/**
 * ì…ê¸ˆ í™•ì¸ ì²˜ë¦¬ (ê´€ë¦¬ììš©)
 * @param {string} reservationNumber - ì˜ˆì•½ë²ˆí˜¸
 * @return {Object} { success: true/false, calendarEventId: '...' }
 */
```
**í”„ë¡œì„¸ìŠ¤**:
1. í•´ë‹¹ ì˜ˆì•½ ì •ë³´ ì¡°íšŒ
2. `ì…ê¸ˆí™•ì¸` í•„ë“œë¥¼ Yë¡œ ì—…ë°ì´íŠ¸
3. `ì…ê¸ˆí™•ì¸ì¼ì‹œ` í˜„ì¬ ì‹œê°ìœ¼ë¡œ ê¸°ë¡
4. Google Calendar ì´ë²¤íŠ¸ ìƒì„± (`createCalendarEvent()`)
5. Calendar ì´ë²¤íŠ¸ ID ì €ì¥
6. ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ ë°œì†¡ (`sendKakaoMessage()` - ì˜ˆì•½í™•ì •)

#### `createCalendarEvent(reservationData)`
```javascript
/**
 * Google Calendarì— ì˜ˆì•½ ì´ë²¤íŠ¸ ìƒì„±
 * @param {Object} reservationData - ì˜ˆì•½ ì •ë³´ ê°ì²´
 * @return {string} Calendar Event ID
 */
```
**ì´ë²¤íŠ¸ ì •ë³´**:
- ì œëª©: `[{Roomíƒ€ì…}] {ì—…ì²´ëª…} - {ì´¬ì˜ë‚´ìš©}`
- ì‹œì‘: `{ì˜ˆì•½ë‚ ì§œ} {ì‹œì‘ì‹œê°„}`
- ì¢…ë£Œ: `{ì˜ˆì•½ë‚ ì§œ} {ì¢…ë£Œì‹œê°„}`
- ì„¤ëª…: ì˜ˆì•½ì ì •ë³´, ì—°ë½ì²˜, ì¸ì›, ì°¨ëŸ‰, ê¸ˆì•¡ ë“±
- ì•Œë¦¼: 30ë¶„ ì „ íŒì—…

---

### 3.8 ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ í•¨ìˆ˜

#### `sendKakaoMessage(type, phoneNumber, reservationData)`
```javascript
/**
 * ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ ë°œì†¡
 * @param {string} type - ë©”ì‹œì§€ íƒ€ì… (confirm/checkin/checkout)
 * @param {string} phoneNumber - ìˆ˜ì‹  ë²ˆí˜¸
 * @param {Object} reservationData - ì˜ˆì•½ ì •ë³´
 * @return {Object} { success: true/false, messageId: '...' }
 */
```
**ê¸°ëŠ¥**:
1. `ì•Œë¦¼í†¡í…œí”Œë¦¿` ì‹œíŠ¸ì—ì„œ í…œí”Œë¦¿ ì¡°íšŒ
2. í…œí”Œë¦¿ ë³€ìˆ˜ ì¹˜í™˜ ({{ì˜ˆì•½ë²ˆí˜¸}}, {{ì—…ì²´ëª…}} ë“±)
3. Kakao API í˜¸ì¶œ (UrlFetchApp ì‚¬ìš©)
4. ë°œì†¡ ê²°ê³¼ë¥¼ `ì˜ˆì•½ë‚´ì—­` ì‹œíŠ¸ ì—…ë°ì´íŠ¸

#### `scheduleMessages(reservationNumber)`
```javascript
/**
 * ì…ì‹¤/í‡´ì‹¤ ì•Œë¦¼í†¡ ì˜ˆì•½ ë°œì†¡ ì„¤ì •
 * @param {string} reservationNumber - ì˜ˆì•½ë²ˆí˜¸
 * @return {void}
 */
```
**ê¸°ëŠ¥**:
- Time-driven trigger ìƒì„±
- ì…ì‹¤ 30ë¶„ ì „: `sendKakaoMessage('checkin', ...)`
- í‡´ì‹¤ 30ë¶„ ì „: `sendKakaoMessage('checkout', ...)`

#### `checkAndSendScheduledMessages()`
```javascript
/**
 * ì˜ˆì•½ ë°œì†¡ ëŒ€ê¸° ì¤‘ì¸ ì•Œë¦¼í†¡ ì²´í¬ ë° ë°œì†¡
 * (Triggerë¡œ 1ë¶„ë§ˆë‹¤ ì‹¤í–‰)
 * @return {void}
 */
```
**ë¡œì§**:
1. í˜„ì¬ ì‹œê° ê¸°ì¤€ Â±5ë¶„ ì´ë‚´ ë°œì†¡ ëŒ€ìƒ ì¡°íšŒ
2. `ì…ì‹¤ì•ˆë‚´` ë°œì†¡ ëŒ€ìƒ: ì…ê¸ˆí™•ì¸=Y, ì‹œì‘ì‹œê°„-30ë¶„
3. `í‡´ì‹¤ì•ˆë‚´` ë°œì†¡ ëŒ€ìƒ: ì…ê¸ˆí™•ì¸=Y, ì¢…ë£Œì‹œê°„-30ë¶„
4. ë°œì†¡ í›„ `ì•Œë¦¼í†¡ë°œì†¡ìƒíƒœ` ì—…ë°ì´íŠ¸

---

### 3.9 ê´€ë¦¬ì í˜ì´ì§€ í•¨ìˆ˜

#### `getReservationList(filter)`
```javascript
/**
 * ì˜ˆì•½ ëª©ë¡ ì¡°íšŒ (ê´€ë¦¬ììš©)
 * @param {Object} filter - í•„í„° ì¡°ê±´
 * { dateFrom, dateTo, paymentStatus, roomType }
 * @return {Array} ì˜ˆì•½ ëª©ë¡ ë°°ì—´
 */
```

#### `updateReservation(reservationNumber, updates)`
```javascript
/**
 * ì˜ˆì•½ ì •ë³´ ìˆ˜ì • (ê´€ë¦¬ììš©)
 * @param {string} reservationNumber - ì˜ˆì•½ë²ˆí˜¸
 * @param {Object} updates - ìˆ˜ì •í•  í•„ë“œ ê°ì²´
 * @return {boolean} ì„±ê³µ ì—¬ë¶€
 */
```

#### `cancelReservation(reservationNumber, reason)`
```javascript
/**
 * ì˜ˆì•½ ì·¨ì†Œ ì²˜ë¦¬
 * @param {string} reservationNumber - ì˜ˆì•½ë²ˆí˜¸
 * @param {string} reason - ì·¨ì†Œ ì‚¬ìœ 
 * @return {boolean} ì„±ê³µ ì—¬ë¶€
 */
```
**í”„ë¡œì„¸ìŠ¤**:
1. Calendar ì´ë²¤íŠ¸ ì‚­ì œ
2. ì˜ˆì•½ ìƒíƒœë¥¼ 'ì·¨ì†Œ'ë¡œ ë³€ê²½
3. ì·¨ì†Œ ì•Œë¦¼í†¡ ë°œì†¡ (ì„ íƒ)

---

### 3.10 ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

#### `formatDateTime(date, time)`
```javascript
/**
 * ë‚ ì§œì™€ ì‹œê°„ì„ í‘œì¤€ í˜•ì‹ìœ¼ë¡œ í¬ë§·íŒ…
 * @param {string} date - YYYY-MM-DD
 * @param {string} time - HH:MM
 * @return {Date} JavaScript Date ê°ì²´
 */
```

#### `formatPhoneNumber(phone)`
```javascript
/**
 * ì „í™”ë²ˆí˜¸ í˜•ì‹ ì •ê·œí™”
 * @param {string} phone - ì…ë ¥ ì „í™”ë²ˆí˜¸
 * @return {string} 010-XXXX-XXXX í˜•ì‹
 */
```

#### `logActivity(action, data)`
```javascript
/**
 * í™œë™ ë¡œê·¸ ê¸°ë¡ (ë””ë²„ê¹…ìš©)
 * @param {string} action - ì•¡ì…˜ëª…
 * @param {Object} data - ë¡œê·¸ ë°ì´í„°
 * @return {void}
 */
```

---

## 4. ë°ì´í„° íë¦„

### 4.1 ì˜ˆì•½ ì‹ ì²­ í”Œë¡œìš°
```
[ì‚¬ìš©ì ì…ë ¥]
    â†“
[ì‹¤ì‹œê°„ ê°€ê²© ê³„ì‚° - calculatePrice()]
    â†“
[ì œì¶œ ë²„íŠ¼ í´ë¦­]
    â†“
[ìœ íš¨ì„± ê²€ì¦ - validateFormData()]
    â†“
[ì˜ˆì•½ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ - checkAvailability()]
    â†“ (ê°€ëŠ¥)
[íŒŒì¼ ì—…ë¡œë“œ - uploadFile()]
    â†“
[ì˜ˆì•½ ë“±ë¡ - submitReservation()]
    â†“
[Spreadsheet ì €ì¥]
    â†“
[í™•ì¸ ë©”ì‹œì§€ í‘œì‹œ]
```

### 4.2 ì…ê¸ˆ í™•ì¸ í”Œë¡œìš°
```
[ê´€ë¦¬ìê°€ ì…ê¸ˆí™•ì¸ ì²´í¬ë°•ìŠ¤ ì²´í¬]
    â†“
[confirmPayment() ì‹¤í–‰]
    â†“
[Google Calendar ì´ë²¤íŠ¸ ìƒì„±]
    â†“
[ì˜ˆì•½í™•ì • ì•Œë¦¼í†¡ ì¦‰ì‹œ ë°œì†¡]
    â†“
[ì…ì‹¤/í‡´ì‹¤ ì•ˆë‚´ ì•Œë¦¼í†¡ ì˜ˆì•½ ì„¤ì •]
```

### 4.3 ì•Œë¦¼í†¡ ë°œì†¡ í”Œë¡œìš°
```
[1ë¶„ë§ˆë‹¤ Trigger ì‹¤í–‰]
    â†“
[checkAndSendScheduledMessages()]
    â†“
[ë°œì†¡ ëŒ€ìƒ ì˜ˆì•½ ì¡°íšŒ]
    â†“ (ëŒ€ìƒ ìˆìŒ)
[ì•Œë¦¼í†¡í…œí”Œë¦¿ ë¡œë“œ]
    â†“
[ë³€ìˆ˜ ì¹˜í™˜ ë° ë©”ì‹œì§€ ìƒì„±]
    â†“
[Kakao API í˜¸ì¶œ]
    â†“
[ë°œì†¡ ìƒíƒœ ì—…ë°ì´íŠ¸]
```

---

## 5. API ì—°ë™ ëª…ì„¸

### 5.1 Kakao Talk API

**Endpoint**: `https://kapi.kakao.com/v1/alimtalk/send`

**Headers**:
```
Authorization: Bearer {ACCESS_TOKEN}
Content-Type: application/json
```

**Request Body** (ì˜ˆì•½í™•ì •):
```json
{
  "template_id": "CONFIRM_001",
  "receiver_phone": "01012345678",
  "message": {
    "ì˜ˆì•½ë²ˆí˜¸": "RES20250101-001",
    "ì—…ì²´ëª…": "ABC Studio",
    "ì˜ˆì•½ë‚ ì§œ": "2025-01-15",
    "ì‹œì‘ì‹œê°„": "10:00",
    "ì¢…ë£Œì‹œê°„": "14:00",
    "Roomíƒ€ì…": "A",
    "ì´ê¸ˆì•¡": "107,800ì›"
  }
}
```

**Response**:
```json
{
  "message_id": "msg_xxxx",
  "status": "success"
}
```

### 5.2 Google Calendar API

Apps Scriptì˜ `CalendarApp` ì„œë¹„ìŠ¤ ì‚¬ìš©

**ì´ë²¤íŠ¸ ìƒì„±**:
```javascript
CalendarApp.getDefaultCalendar().createEvent(
  title,
  startTime,
  endTime,
  {
    description: description,
    location: location,
    guests: email,
    sendInvites: false
  }
);
```

---

## 6. UI êµ¬ì¡° (index.html)

### 6.1 ì„¹ì…˜ êµ¬ì„±

1. **í—¤ë”**
   - ë¡œê³  ë° ì‹œìŠ¤í…œ ì œëª©

2. **ì˜ˆì•½ ì •ë³´ ì…ë ¥ ì„¹ì…˜**
   - ì—…ì²´ì •ë³´ (ì—…ì²´ëª…, ì¸ìŠ¤íƒ€ê·¸ë¨ID)
   - ì˜ˆì•½ì ì •ë³´ (ì´ë¦„, ì—°ë½ì²˜)
   - ë°©ë¬¸ ì •ë³´ (ì¸ì›, ì°¨ëŸ‰)

3. **ë‚ ì§œ/ì‹œê°„ ì„ íƒ ì„¹ì…˜**
   - ë‚ ì§œ ì„ íƒ (Datepicker)
   - ì‹œì‘/ì¢…ë£Œ ì‹œê°„ (Dropdown, 30ë¶„ ë‹¨ìœ„)
   - ì´ìš©ì‹œê°„ ìë™ ê³„ì‚° í‘œì‹œ

4. **Room ì„ íƒ ì„¹ì…˜**
   - Room íƒ€ì… Dropdown
   - ì¸ì›ì— ë”°ë¥¸ ìë™ ì¶”ì²œ í‘œì‹œ

5. **ì˜µì…˜ ì„ íƒ ì„¹ì…˜**
   - ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰ (ë¼ë””ì˜¤ ë²„íŠ¼)
   - ìœ ì…ê²½ë¡œ (Dropdown)
   - ì´¬ì˜ë‚´ìš© (Dropdown)

6. **íŒŒì¼ ì—…ë¡œë“œ ì„¹ì…˜**
   - ì‚¬ì—…ìë“±ë¡ì¦ ì—…ë¡œë“œ (ì„¸ê¸ˆê³„ì‚°ì„œ Y ì„ íƒ ì‹œ í•„ìˆ˜)
   - íŒŒì¼ í¬ê¸° ì•ˆë‚´ (10MB ì´ë‚´)

7. **ê°€ê²© í‘œì‹œ ì„¹ì…˜** (ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸)
   - ê¸°ë³¸ìš”ê¸ˆ
   - ì¶”ê°€ì¸ì›ìš”ê¸ˆ
   - ì†Œê³„
   - VAT
   - **ì´ ê¸ˆì•¡** (ê°•ì¡°)

8. **ì•½ê´€ ë™ì˜ ì„¹ì…˜**
   - ì´ìš©ì•½ê´€ ì²´í¬ë°•ìŠ¤
   - ì•½ê´€ ë‚´ìš© ëª¨ë‹¬

9. **ì œì¶œ ë²„íŠ¼**
   - ì˜ˆì•½ ì‹ ì²­ ë²„íŠ¼
   - ë¡œë”© ì¸ë””ì¼€ì´í„°

### 6.2 JavaScript ì´ë²¤íŠ¸

- **ì¸ì› ì…ë ¥ ë³€ê²½**: Room íƒ€ì… ìë™ ì¶”ì²œ + ê°€ê²© ì¬ê³„ì‚°
- **ì‹œê°„ ì„ íƒ ë³€ê²½**: ì´ìš©ì‹œê°„ ê³„ì‚° + ê°€ê²© ì¬ê³„ì‚°
- **Room íƒ€ì… ë³€ê²½**: ê°€ê²© ì¬ê³„ì‚°
- **ì œì¶œ ë²„íŠ¼ í´ë¦­**:
  1. í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìœ íš¨ì„± ê²€ì¦
  2. ì˜ˆì•½ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸ (AJAX)
  3. í¼ ë°ì´í„° ì „ì†¡ (google.script.run)

---

## 7. ë³´ì•ˆ ë° ì—ëŸ¬ ì²˜ë¦¬

### 7.1 ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- WebApp ë°°í¬ ì‹œ "ë‚˜ë§Œ ì‹¤í–‰" ì„¤ì • (ê´€ë¦¬ìë§Œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ)
- ì‚¬ìš©ìëŠ” "ìµëª… í¬í•¨ ëª¨ë“  ì‚¬ìš©ì" ì•¡ì„¸ìŠ¤
- ë¯¼ê° ì •ë³´ (Kakao API Key) Script Propertiesì— ì €ì¥
- íŒŒì¼ ì—…ë¡œë“œ í¬ê¸° ì œí•œ (10MB)
- XSS ë°©ì§€: HTML ì¶œë ¥ ì‹œ ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬

### 7.2 ì—ëŸ¬ ì²˜ë¦¬

- ëª¨ë“  ì£¼ìš” í•¨ìˆ˜ì— try-catch ë¸”ë¡
- ì—ëŸ¬ ë°œìƒ ì‹œ ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ ë°˜í™˜
- ì‹œìŠ¤í…œ ì—ëŸ¬ëŠ” Loggerì— ê¸°ë¡
- API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë¡œì§ (ìµœëŒ€ 3íšŒ)

### 7.3 ë°ì´í„° ë¬´ê²°ì„±

- ì˜ˆì•½ ë“±ë¡ ì‹œ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ (ì‹¤íŒ¨ ì‹œ ë¡¤ë°±)
- ì¤‘ë³µ ì˜ˆì•½ ë°©ì§€ë¥¼ ìœ„í•œ Lock ë©”ì»¤ë‹ˆì¦˜
- ë°ì´í„° ë³€ê²½ ì‹œ ë³€ê²½ ì´ë ¥ ë¡œê·¸

---

## 8. ë°°í¬ ë° ì„¤ì •

### 8.1 ì´ˆê¸° ì„¤ì • ë‹¨ê³„

1. Google Spreadsheet ìƒì„± ë° ì‹œíŠ¸ êµ¬ì¡° ì…‹ì—…
2. Google Apps Script í”„ë¡œì íŠ¸ ìƒì„±
3. Script Properties ì„¤ì •:
   - `KAKAO_API_KEY`: ì¹´ì¹´ì˜¤ REST API í‚¤
   - `KAKAO_SENDER_KEY`: ì•Œë¦¼í†¡ ë°œì‹  í‚¤
   - `CALENDAR_ID`: Google Calendar ID
4. ì™¸ë¶€ API ê¶Œí•œ ì„¤ì • (UrlFetchApp í—ˆìš©)
5. Time-driven Trigger ì„¤ì •:
   - `checkAndSendScheduledMessages()` - 1ë¶„ë§ˆë‹¤ ì‹¤í–‰

### 8.2 WebApp ë°°í¬

1. Apps Script í¸ì§‘ê¸°ì—ì„œ "ë°°í¬ > ìƒˆ ë°°í¬"
2. ìœ í˜•: ì›¹ ì•±
3. ì‹¤í–‰ ê³„ì •: ë‚˜
4. ì•¡ì„¸ìŠ¤ ê¶Œí•œ: ëª¨ë“  ì‚¬ìš©ì
5. ë°°í¬ URL ë³µì‚¬

### 8.3 Google Site ì„ë² ë“œ

1. Google Siteì—ì„œ ìƒˆ í˜ì´ì§€ ìƒì„±
2. "ì‚½ì… > URL ì‚½ì…"
3. WebApp ë°°í¬ URL ì…ë ¥
4. iframe í¬ê¸° ì¡°ì • (ê¶Œì¥: 800px Ã— 1200px)

---

## 9. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 9.1 ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

- [ ] ì˜ˆì•½ ì‹ ì²­ ì •ìƒ ì²˜ë¦¬
- [ ] ì¤‘ë³µ ì˜ˆì•½ ë°©ì§€ ë™ì‘ í™•ì¸
- [ ] ê°€ê²© ê³„ì‚° ì •í™•ì„± ê²€ì¦
- [ ] Room ìë™ ì¶”ì²œ ë¡œì§ ê²€ì¦
- [ ] íŒŒì¼ ì—…ë¡œë“œ ë° Drive ì €ì¥
- [ ] ì…ê¸ˆ í™•ì¸ ì‹œ Calendar ì´ë²¤íŠ¸ ìƒì„±
- [ ] ì•Œë¦¼í†¡ ë°œì†¡ (ì˜ˆì•½í™•ì •/ì…ì‹¤/í‡´ì‹¤)

### 9.2 ì˜ˆì™¸ ìƒí™© í…ŒìŠ¤íŠ¸

- [ ] í•„ìˆ˜ ì…ë ¥ ëˆ„ë½ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€
- [ ] ê³¼ê±° ë‚ ì§œ ì„ íƒ ì‹œ ì—ëŸ¬
- [ ] ì¢…ë£Œì‹œê°„ < ì‹œì‘ì‹œê°„ ì—ëŸ¬
- [ ] ìµœì†Œ ì´ìš©ì‹œê°„ ë¯¸ë‹¬ ì—ëŸ¬
- [ ] íŒŒì¼ í¬ê¸° ì´ˆê³¼ ì—ëŸ¬
- [ ] API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„
- [ ] ë™ì‹œ ì˜ˆì•½ ì‹ ì²­ ì‹œ Lock ì²˜ë¦¬

---

## 10. í–¥í›„ í™•ì¥ ê°€ëŠ¥ì„±

- ì˜ˆì•½ì ì „ìš© ë§ˆì´í˜ì´ì§€ (ì˜ˆì•½ ì¡°íšŒ/ì·¨ì†Œ)
- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (í†µê³„, ë§¤ì¶œ ë¶„ì„)
- ëŒ€ê¸° ì˜ˆì•½ ì‹œìŠ¤í…œ (ì·¨ì†Œ ë°œìƒ ì‹œ ìë™ ì•ˆë‚´)
- ì´ë©”ì¼ ì•Œë¦¼ ì¶”ê°€ (ì•Œë¦¼í†¡ ë³´ì¡°)
- ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™ (í† ìŠ¤í˜ì´ë¨¼ì¸ , PGì‚¬)
- ì •ê¸° ì˜ˆì•½ ê¸°ëŠ¥
- í• ì¸ ì¿ í° ì‹œìŠ¤í…œ

---

## 10. êµ¬í˜„ ìƒíƒœ

### âœ… êµ¬í˜„ ì™„ë£Œ ê¸°ëŠ¥

#### 1. ì‚¬ìš©ì ì˜ˆì•½ í¼ (index.html)
- âœ… ë°˜ì‘í˜• UI ë””ìì¸
- âœ… 9ê°œ ì„¹ì…˜ êµ¬ì„± (ì—…ì²´ì •ë³´, ì˜ˆì•½ìì •ë³´, ë°©ë¬¸ì •ë³´, ë‚ ì§œ/ì‹œê°„, Room, ì˜µì…˜, íŒŒì¼ì—…ë¡œë“œ, ê°€ê²©í‘œì‹œ, ì•½ê´€)
- âœ… ì‹¤ì‹œê°„ ê°€ê²© ê³„ì‚°
- âœ… Room ìë™ ì¶”ì²œ (10ëª… ì´ìƒ â†’ A+B)
- âœ… ì´ìš©ì‹œê°„ ìë™ ê³„ì‚°
- âœ… ì—°ë½ì²˜ ìë™ í¬ë§·íŒ… (010-0000-0000)
- âœ… ì˜ˆì•½ ê°€ëŠ¥ ì—¬ë¶€ ì‹¤ì‹œê°„ í™•ì¸

#### 2. ë°±ì—”ë“œ ë¡œì§ (Code.gs)
- âœ… WebApp ì§„ì…ì  (doGet, doPost)
- âœ… ì„¤ì • ê´€ë¦¬ (getSettings, getRoomInfo)
- âœ… ê°€ê²© ê³„ì‚° (calculatePrice, suggestRoomType)
- âœ… ì˜ˆì•½ ê°€ëŠ¥ í™•ì¸ (checkAvailability)
  - ì‹œê°„ëŒ€ ì¶©ëŒ ê²€ì‚¬
  - A+B ë£¸ íŠ¹ë³„ ì²˜ë¦¬
  - ì˜ˆì•½í˜„í™©ë¡œê·¸ ìë™ ê¸°ë¡
- âœ… ì˜ˆì•½ ë“±ë¡ (submitReservation)
  - ìœ íš¨ì„± ê²€ì¦
  - Lock ë©”ì»¤ë‹ˆì¦˜ (ë™ì‹œ ì˜ˆì•½ ë°©ì§€)
  - ì˜ˆì•½ë²ˆí˜¸ ìë™ ìƒì„±
- âœ… Google Docs ì•½ê´€ ì—°ë™ (getTermsContent)
  - HTML ìë™ ë³€í™˜
  - ì œëª©, ë‹¨ë½, ë¦¬ìŠ¤íŠ¸, í…Œì´ë¸” ì§€ì›
  - ë§ˆì§€ë§‰ ìˆ˜ì •ì¼ í‘œì‹œ
- âœ… ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
  - ë‚ ì§œ/ì‹œê°„ í¬ë§·íŒ…
  - ì‹œíŠ¸ ì ‘ê·¼
  - ì—ëŸ¬ ë¡œê¹…

#### 3. ë°ì´í„° ê´€ë¦¬
- âœ… ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ì—°ë™
- âœ… ì˜ˆì•½ë‚´ì—­ ìë™ ì €ì¥
- âœ… ì˜ˆì•½í˜„í™©ë¡œê·¸ í†µê³„ ê¸°ë¡

### â³ êµ¬í˜„ ì˜ˆì • ê¸°ëŠ¥

#### 1. íŒŒì¼ ì—…ë¡œë“œ (ìš°ì„ ìˆœìœ„: ë†’ìŒ)
- â³ uploadFile() - ì‚¬ì—…ìë“±ë¡ì¦ Google Drive ì €ì¥
- â³ 10MB í¬ê¸° ì œí•œ ê²€ì¦
- â³ íŒŒì¼ëª… ìë™ ìƒì„± (ì˜ˆì•½ë²ˆí˜¸ í¬í•¨)

#### 2. ì…ê¸ˆ í™•ì¸ ë° Calendar ì—°ë™ (ìš°ì„ ìˆœìœ„: ë†’ìŒ)
- â³ confirmPayment() - ì…ê¸ˆ í™•ì¸ ì²˜ë¦¬
- â³ createCalendarEvent() - Google Calendar ì¼ì • ìë™ ìƒì„±
- â³ ì…ê¸ˆ í™•ì¸ ì‹œ Calendar ì—…ë°ì´íŠ¸
- â³ Calendar ì´ë²¤íŠ¸ ID ì €ì¥

#### 3. ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)
- â³ sendKakaoMessage() - ì•Œë¦¼í†¡ ë°œì†¡
- â³ í…œí”Œë¦¿ ê´€ë¦¬ (ì˜ˆì•½í™•ì •, ì…ì‹¤ì•ˆë‚´, í‡´ì‹¤ì•ˆë‚´)
- â³ ì˜ˆì•½ ë°œì†¡ ìŠ¤ì¼€ì¤„ë§ (ì…ì‹¤ 30ë¶„ ì „, í‡´ì‹¤ 30ë¶„ ì „)
- â³ Trigger ì„¤ì •
- â³ Kakao API í‚¤ ì„¤ì •

#### 4. ê´€ë¦¬ì ê¸°ëŠ¥ (ìš°ì„ ìˆœìœ„: ë‚®ìŒ)
- â³ ì˜ˆì•½ ëª©ë¡ ì¡°íšŒ (í•„í„°ë§)
- â³ ì˜ˆì•½ ì •ë³´ ìˆ˜ì •
- â³ ì˜ˆì•½ ì·¨ì†Œ ì²˜ë¦¬
- â³ í†µê³„ ëŒ€ì‹œë³´ë“œ

---

## ë¶€ë¡: ì‹¤ì œ ì½”ë“œ íŒŒì¼ êµ¬ì¡°

### í˜„ì¬ êµ¬ì¡° (ë‹¨ìˆœí™”)

Apps ScriptëŠ” ëª¨ë“  `.gs` íŒŒì¼ì´ ì „ì—­ ìŠ¤ì½”í”„ë¥¼ ê³µìœ í•˜ë¯€ë¡œ, íŒŒì¼ ë¶„ë¦¬ë³´ë‹¤ëŠ” ë‹¨ì¼ íŒŒì¼ì—ì„œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì…ë‹ˆë‹¤.

```
ğŸ“ IhadaReservation/
â”œâ”€â”€ Code.gs                 # ë°±ì—”ë“œ ë¡œì§ (ëª¨ë“  ê¸°ëŠ¥ í¬í•¨)
â”‚   â”œâ”€â”€ doGet/doPost        # WebApp ì§„ì…ì 
â”‚   â”œâ”€â”€ getSettings         # ì„¤ì • ê´€ë¦¬
â”‚   â”œâ”€â”€ getRoomInfo         # Room ì •ë³´
â”‚   â”œâ”€â”€ calculatePrice      # ê°€ê²© ê³„ì‚°
â”‚   â”œâ”€â”€ checkAvailability   # ì˜ˆì•½ ê°€ëŠ¥ í™•ì¸
â”‚   â”œâ”€â”€ submitReservation   # ì˜ˆì•½ ë“±ë¡
â”‚   â”œâ”€â”€ getTermsContent     # Google Docs ì•½ê´€
â”‚   â””â”€â”€ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
â”‚
â”œâ”€â”€ index.html              # í”„ë¡ íŠ¸ì—”ë“œ (UI + CSS + JavaScript)
â”‚   â”œâ”€â”€ HTML êµ¬ì¡°
â”‚   â”œâ”€â”€ <style> íƒœê·¸        # CSS ìŠ¤íƒ€ì¼ì‹œíŠ¸
â”‚   â””â”€â”€ <script> íƒœê·¸       # í´ë¼ì´ì–¸íŠ¸ JavaScript
â”‚
â”œâ”€â”€ ê°œë°œëª…ì„¸ì„œ.md           # ê°œë°œ ë¬¸ì„œ
â””â”€â”€ readme.md               # ì‚¬ìš©ì ê°€ì´ë“œ
```

### í–¥í›„ ì¶”ê°€ë  í•¨ìˆ˜ (Code.gs ë‚´ë¶€)

```javascript
// íŒŒì¼ ì—…ë¡œë“œ
function uploadFile(fileBlob, reservationNumber)

// ì…ê¸ˆ í™•ì¸ ë° Calendar
function confirmPayment(reservationNumber)
function createCalendarEvent(reservationData)

// ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡
function sendKakaoMessage(type, phoneNumber, reservationData)
function scheduleMessages(reservationNumber)
function checkAndSendScheduledMessages()

// ê´€ë¦¬ì ê¸°ëŠ¥ (ì„ íƒì‚¬í•­)
function getReservationList(filter)
function updateReservation(reservationNumber, updates)
function cancelReservation(reservationNumber, reason)
```

---

## ê°œë°œ ì§„í–‰ ë°©í–¥

### Phase 1: í•µì‹¬ ê¸°ëŠ¥ ì™„ì„± (í˜„ì¬)
- âœ… ì˜ˆì•½ í¼ UI
- âœ… ê°€ê²© ê³„ì‚° ë° ì˜ˆì•½ ë“±ë¡
- âœ… Google Docs ì•½ê´€ ì—°ë™
- â³ íŒŒì¼ ì—…ë¡œë“œ
- â³ ì…ê¸ˆ í™•ì¸ + Calendar ì—°ë™

### Phase 2: ì•Œë¦¼ ì‹œìŠ¤í…œ
- â³ ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ ì—°ë™
- â³ ì…ì‹¤/í‡´ì‹¤ ìë™ ì•Œë¦¼

### Phase 3: ê´€ë¦¬ ê¸°ëŠ¥ ê°•í™”
- â³ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
- â³ í†µê³„ ë° ë¶„ì„
- â³ ì˜ˆì•½ ìˆ˜ì •/ì·¨ì†Œ ê¸°ëŠ¥

---

**ë¬¸ì„œ ë²„ì „**: 1.1
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-12-07
**ì‘ì„±ì**: Claude Code
